# Bycicle data visualization website
#### Description:
##### Project motivation
This project is an attempt at using web programming to give the user access to a data base and create data visualizations without needing to input a lot of commands or knowing everything that's happening internally.

The main objective is to allow the user to extract data from the bycicle tripdata database through a series of customizable SQL queries, and obtain beautifully plotted data to obtain useful insights.

###### How the idea for this project originated?
The main idea for this website came to me as I was working on a data science project. The idea of letting the user pick what variables they wanted to analize and provide them with a visual representation of the data sounded like a useful and helpful solution.

![Guy surrounded by data visualizations.](static/images/graphs_vector.png)

At first I didn't really know what the project was going to be about but after this idea came up in my mind I thought it was a perfect way of connecting two of my main interest areas: web programming and data science.

##### Project overview
In this website you have a few webpages available, namely ```about.html``` and ```about.html```, which should be useful to get a hold of the data that one is expected to be able to query over and the origin of the website.

The main page the website has is ```query.html``` where the user is prompt to select a variable to analyze and a descriptive statistic, which we'll plot based on the variable and ultimately present to the user after processing the data.

The user has a few variables to choose from the database as well as a couple of basic descriptive statistics to further increase the functionality of the website.

As you read through the documentation of the database you might realize that there are quite a few variables missing at the time you're entering the query information, this is actually not an error.

Due to the scope of the project, some variables needed some advanced wrangling that would've taken a pretty large amount of time to carry out, so in the best interest of keeping this simple and not get too ambitious for the time being I decided to include those variables that were already ready to be plotted.

The plots generated automatically have been programmed using ```matplotlib``` with the main goal of demonstrating the distribution of the selected variable and show the top 50 results for said variable, according to the amount of times it appears therein.

The choice to only show the first 50 instead of a bigger number is merely due to the sie of the plot being an important factor, as well as legibility and interpretation of the results.

##### Detailed data processing

The data is first recalled from the website through a ```POST``` call, data gathered from the website consists of the variable selected as well as the descriptive statistic.

```app.py``` consists of a series of routes for all webpages, it also contains a couple of functions which are described below:
- ```get_rows``` takes as input the variable input and returns as a list the rows returned by a SQL query that selects the top 50 data values with more ocurrences therein.
- ```plot_data``` takes as argument the rows returned by ```get_rows``` and plots along the x-axis the data values and the ocurrences of that data value in the y-axis. Ultimately, the function also creates a horizontal line with the y-intercept being equal to the descriptive statistic.

When a query is submitted the program calls ```get_rows``` to filter the data according to the variable input and return only the top 50 results from the dataset ordered by count.

```plot_data``` is then called to plot the data and save the image generated.

The user is then presented with the ```results.html``` page which recalls the image generated and shows it to the user, the query generated by ```get_rows``` is also present at the end of the page for further analysis.

##### Final comment

Overall, the experience that one might expect from this website is pretty basic, though it does incorporate a lot of bootstrap to stylize it and the results are quite nice aesthetically in my opinion.
